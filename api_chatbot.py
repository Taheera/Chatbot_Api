

import re, math
from collections import Counter

import pandas as pd
import json
import flask
from flask import request, jsonify


app = flask.Flask(__name__)
app.config["DEBUG"] = True


import nltk
from nltk import word_tokenize, pos_tag, ne_chunk
from nltk.chunk import conlltags2tree, tree2conlltags
import nltk.data
tokenizer = nltk.data.load('nltk:tokenizers/punkt/english.pickle')
import re
from nltk import word_tokenize, pos_tag, pos_tag_sents
import numpy as np
import string
import time

WORD = re.compile(r'\w+')

def get_cosine(vec1, vec2):
     intersection = set(vec1.keys()) & set(vec2.keys())
     numerator = sum([vec1[x] * vec2[x] for x in intersection])

     sum1 = sum([vec1[x]**2 for x in vec1.keys()])
     sum2 = sum([vec2[x]**2 for x in vec2.keys()])
     denominator = math.sqrt(sum1) * math.sqrt(sum2)

     if not denominator:
        return 0.0
     else:
        return float(numerator) / denominator

def text_to_vector(text):
     words = WORD.findall(text)
     return Counter(words)

oa = [{"ID": 1.0, "FOL": "affecting(pain,factors)", "Pattern": "NNVBNN", "Question": "what are the factors affecting pain in osteoarthritis?", "Answers": "The perception of pain depends not only on the disease process and the brain's processing of pain messages, but also on cultural, gender, and psychological factors."}, {"ID": 2.0, "FOL": "associated(Osteoarthritis,severe muscle atrophy)", "Pattern": "NNVBINNN", "Question": "is Osteoarthritis associated with severe muscle atrophy?", "Answers": "No"}, {"ID": 3.0, "FOL": "used(analgesics,osteoarthritis pain)", "Pattern": "NNVBINNN", "Question": "what are the analgesics used for osteoarthritis pain?", "Answers": "acetaminophen (Tylenol, others)"}, {"ID": 4.0, "FOL": "(sudden low back pain causes)", "Pattern": "NN", "Question": "what are the causes of sudden low back pain?", "Answers": "Cancer involving the spine.\nFracture of the spinal cord.\nMuscle spasm (very tense muscles)\nRuptured or herniated disk.\nSciatica.\nSpinal stenosis (narrowing of the spinal canal).\nSpine curvatures (like scoliosis or kyphosis), which may be inherited and seen in children or teens.\nStrain or tears to the muscles or ligaments supporting the back.\nAn abdominal aortic aneurysm that is leaking.\nArthritis conditions, such as osteoarthritis, psoriatic arthritis, and rheumatoid arthritis.\nInfection of the spine (osteomyelitis, diskitis, abscess).\nKidney infection or kidney stones.\nProblems related to pregnancy.\nMedical conditions that affect the female reproductive organs, including endometriosis, ovarian cysts, ovarian cancer, or uterine fibroids."}, {"ID": 5.0, "FOL": "keep(back)", "Pattern": "VBNN", "Question": "How to keep the back healthy?", "Answers": "Following any period of prolonged inactivity, a regimen of low-impact exercises is advised. Speed walking, swimming, or stationary bike riding 30 minutes daily can increase muscle strength and flexibility. Yoga also can help stretch and strengthen muscles and improve posture. Consult a physician for a list of low-impact, age-appropriate exercises that are specifically targeted to strengthening lower back and abdominal muscles.\n\nAlways stretch before exercise or other strenuous physical activity.\nDon\u2019t slouch when standing or sitting. The lower back can support a person\u2019s weight most easily when the curvature is reduced. When standing, keep your weight balanced on your feet.\nAt home or work, make sure work surfaces are at a comfortable height.\nSit in a chair with good lumbar support and proper position and height for the task. Keep shoulders back. Switch sitting positions often and periodically walk around the office or gently stretch muscles to relieve tension. A pillow or rolled-up towel placed behind the small of the back can provide some lumbar support. During prolonged periods of sitting, elevate feet on a low stool or a stack of books.\nWear comfortable, low-heeled shoes.\nSleeping on one\u2019s side with the knees drawn up in a fetal position can help open up the joints in the spine and relieve pressure by reducing the curvature of the spine. Always sleep on a firm surface.\nDon\u2019t try to lift objects that are too heavy. Lift from the knees, pull the stomach muscles in, and keep the head down and in line with a straight back. When lifting, keep objects close to the body. Do not twist when lifting.\nMaintain proper nutrition and diet to reduce and prevent excessive weight gain, especially weight around the waistline that taxes lower back muscles. A diet with sufficient daily intake of calcium, phosphorus, and vitamin D helps to promote new bone growth.\nQuit smoking. Smoking reduces blood flow to the lower spine, which can contribute to spinal disc degeneration. Smoking also increases the risk of osteoporosis and impedes healing. Coughing due to heavy smoking also may cause back pain."}, {"ID": 6.0, "FOL": "get(pain,acute back pain)", "Pattern": "VBNNINNN", "Question": "when do you get the pain in acute back pain?", "Answers": "Usually one first feel back pain just after you lift a heavy object, move suddenly, sit in one position for a long time, or have an injury or accident."}, {"ID": 7.0, "FOL": "(different Antidepressants,osteoarthritis)", "Pattern": "NNINNN", "Question": "what are different Antidepressants for osteoarthritis?", "Answers": "amitriptyline (Elavil, Endep), desipramine (Norpramin, Pertofrane), imipramine (Tofranil, Norfranil) and nortriptyline (Pamelor, Aventyl)."}, {"ID": 8.0, "FOL": "cure(Lower back pain,research)", "Pattern": "NNVBNN", "Question": "What research is being done to cure Lower back pain?", "Answers": "The National Institute of Neurological Disorders and Stroke (NINDS) is a component of the National Institutes of Health (NIH) and is the leading federal funder of research on disorders of the brain and nervous system. As a primary supporter of research on pain and pain mechanisms, NINDS is a member of the NIH Pain Consortium, which was established to promote collaboration among the many NIH Institutes and Centers with research programs and activities addressing pain. On an even broader scale, NIH participates in the Interagency Pain Research Coordinating Committee, a federal advisory committee that coordinates research across other U.S. Department of Health and Human Services agencies as well as the Departments of Defense and Veterans Affairs.\n\nNINDS-funded studies are contributing to a better understanding of why some people with acute low back pain recover fully while others go on to develop chronic low back pain. Brain imaging studies suggest that people with chronic low back pain have changes in brain structure and function. In one study, people with subacute back pain were followed for one year. Researchers found that certain patterns of functional connectivity across brain networks correlated with the likelihood of pain becoming chronic. The findings suggest that such patterns may help predict who is most likely to transition from subacute to chronic back pain. Other research seeks to determine the role of brain circuits important for emotional and motivational learning and memory in this transition, in order to identify new preventive interventions.\n\nDisc degeneration remains a key cause of chronic low back pain and the pain often persists despite surgery. NIH-funded basic science and preclinical studies are investigating molecular-level mechanisms that cause discs in the spine to degenerate, as well as protective mechanisms involved in disc remodeling that may diminish with advancing age. Such studies may help identify future therapeutic strategies to block degenerative mechanisms or promote remodeling processes. NIH also is funding early research on stem cell approaches to promote disc regeneration and rejuvenate cells of the nucleus pulposus, the jelly-like substance in the center of intervertebral discs that loses water content as people age.\n\nSeveral NIH-funded clinical trials and other studies in patients aim to improve treatment options and prevention strategies for chronic low back pain, as well as add to the evidence base about existing treatments. A multi-year multicenter study called the Spine Patient Outcomes Research Trial (SPORT) compared the most commonly used surgical and nonsurgical treatments for patients with the three most common diagnoses for which spine surgery is performed: intervertebral disc herniation, spinal stenosis, and degenerative spondylisthesis. SPORT represented the largest clinical investigation to date looking at treatment results for these disabling and costly causes of chronic low back pain.\n\nResults after four years of follow-up showed that in general, otherwise healthy people who have surgery for one of these three conditions are likely to fare better than those who receive non-operative care. However, the results also indicated that people who are reluctant to have surgery may also recover with non-operative treatments if their conditions are not progressing and their pain is tolerable, and importantly, delaying or avoiding surgery did not cause additional damage in most cases. Researchers are continuing to track SPORT patient cohorts over a nine-year follow-up period to assess longer term treatment results and cost effectiveness across treatment options. In the interest of improving surgical techniques, NIH also is funding research on factors that contribute to the success or failure of artificial disc replacement surgery, including studies to compare discs on the market for significant differences in their durability rates over time.\n\nEpidural injections of steroid drugs are frequently used to treat sciatica, despite limited evidence for their effectiveness. Moreover, these treatments are based on the assumption that reducing local inflammation in the vertebral column will relieve pain, but an association between structural abnormalities, inflammation, and sciatica symptoms has not been clearly demonstrated. NINDS-funded researchers are using a new imaging technique that can detect inflammation to better understand what causes chronic sciatica pain and to provide evidence to inform treatment selection.\n\nOther NIH-funded studies are investigating physical therapy and chiropractic approaches. For example, researchers are studying whether therapy programs that emphasize certain types of exercises, such as core stabilization exercises, provide benefit to people who experience recurrent low back pain.\n\nThe increasing use of spinal manipulation and mobilization, despite lacking evidence for more than small or moderate benefit, has prompted NIH-funded researchers to study the mechanisms of these two techniques and to conduct a randomized controlled trial to assess and compare their effectiveness for the treatment of chronic low back pain.\n\nFinally, NIH-funded researchers are studying various complementary and alternative therapies for low back pain, including those aimed reducing stress and negative emotions believed to aggravate the experience of pain. For example, virtual reality programs are being studied for their ability to help people cope with persistent pain."}, {"ID": 9.0, "FOL": "(acute back pain)", "Pattern": "NN", "Question": "How long will the acute back pain last?", "Answers": "Acute back pain can last for a few days to a few weeks."}, {"ID": 10.0, "FOL": "(Intra-articular injections,osteoarthritis treatment)", "Pattern": "NNINNN", "Question": "what is an Intra-articular injections for the treatment of osteoarthritis?", "Answers": "Intra-articular injections of cortisone made directly into the arthritic joint can also provide pain relief. Ultrasound-guided cortisone injections using dedicated high-resolution ultrasound equipment are very precise and allow a radiologist to target the injections directly into an area, maximizing therapeutic outcomes. Following the injection, pain relief varies from patient to patient. Some may feel relief from pain within two to five days. If a patient feels no relief within ten days following the injection, the patient is unlikely to gain any additional improvement and further discussion with your physician may be needed to identify other treatment options.\n\n"}, {"ID": 11.0, "FOL": "(pharmacological treatments,osteoarthritis pain)", "Pattern": "NNINNN", "Question": "What are some of the pharmacological treatments for osteoarthritis pain?", "Answers": "Analgesics, NSAIDs, Topical Pain Relievers, COX-2 Inhibitors, Tramadol, Stronger Painkillers, Antidepressants."}, {"ID": 12.0, "FOL": "alleviate(osteoarthritis pain,activity modifications)", "Pattern": "NNVBNN", "Question": "What activity modifications can be done to help alleviate osteoarthritis pain?", "Answers": "Respect Pain\n\nPerform activities only up to the point of slight fatigue or discomfort. Then take a break - at least until pain disappears before starting again.\nRecognize that pain lasting more than two hours after an activity is a warning sign. Don't push yourself that far again.\nUse a warm heating pad for morning pain and stiffness, or use ice packs on warm and swollen joints.\nAsk your physician about alternate activities if your exercise regimen is causing you significant pain. For example, if playing tennis exacerbates your pain, try swimming instead.\nDiscuss any persistent pain with your physician.\nPlan Ahead - Balance Your Activities\n\nPrioritize your daily activities, making sure to include rest and relaxation, as well as work and exercise.\nSpread out light and heavy tasks throughout the day.\nBe realistic about what you can do. Delegate tasks that will put you at risk for injury, or just ask for help.\nDo the exercises your physician recommends for your specific condition. Get involved in additional exercise - as long as it's appropriate for you - since building muscle around the joints protects them.\nConserve your energy. Make sure the supplies you use most are the easiest to reach, which may require the installation of lower shelves. Sit often. Eliminate unnecessary tasks. Use electric appliances rather than your own muscle power whenever possible.\nEnhance flexibility and mobility by changing your position frequently. Stretch every 15 minutes when writing or using a computer. Avoid long periods of standing, sitting, and lying down.\nDistribute Work Over Your Body, Using Your Largest, Strongest Joints\n\nAvoid placing excessive weight or strain on any single joint. Spread the weight of an object or task over several joints to limit the stress on a single joint. Get the shoulder, elbow and wrist involved in lifting - not just the fingers. For example, lift, carry and hold items with both hands. Use both hands or the side of your body to open heavy doors. Hold small items in the palm of your hand, not your fingers.\nKeep items close to your body. \"Hugging\" packages is safer than carrying them on one side or in one hand.\nUse a bag with shoulder straps rather than holding it in your hand, if it is heavy.\nWhen using stairs, lead with your strong leg as you go up the stairs and with your weaker leg as you go down. This will limit the stress on the weaker joints. Use a hand rail.\nUse Joints in Their Most Stable Position\n\nFor example, if you have wrist problems, don't stir by rotating your wrist. Instead, grip the spoon in your fist, with the spoon end exiting on the pinky side of your hand, and stir (thumb up) using your whole arm and keeping the wrist stable.\nAvoid twisting motions. This is especially important for people who have back or hip pain - and for those with hand problems. Wringing motions stress fingers and encourage deformities. Don't wring out washcloths; just drape them over the faucet to dry. This also may require a little home redecorating to replace your doorknobs with lever door opening devices.\nUse Adaptive Devices and Techniques\n\nUse built-up handles made of foam or plastic for holding toothbrushes, pencils, and pens.\nUse a cane to alleviate knee or hip pain. Remember, use the cane in the hand opposite your painful joint. For example, if your right knee hurts, hold the cane in your left hand.\nAlternate hands when opening and closing jars or use a special device designed for people with limited strength or motion in their hands.\nUse reachers or other devices to pick up items from the floor or to retrieve them from a high shelf.\nWear proper safety equipment, e.g., knee or wrist pads.\nCheck out websites, catalogs and stores that sell products specifically designed for people with arthritis or other conditions that limit movement.\nMaintain Correct Posture\n\nKeep your back straight, especially important when lifting large objects.\nBend at the knees and hips, not at the waist.\nSeparate feet to widen your base of support.\nKeep the item you are lifting close to your body.\nStand on a low, stable footstool when reaching for high objects.\nUse a firm chair with good arms and back support. Use a tall chair to make sitting down and standing easier.\nSeek exercises that strengthen your posture.\nGet familiar with ergonomics, especially if your work requires constant sitting or repetitive motion. Your company's human resources department may be able to help.\nControl Your Weight\n\nLosing extra pounds can make a difference in your prognosis. For example, your knees sustain an impact three to five times your body weight when you descend stairs. If you weigh 200 pounds, that means up to 1000 pounds banging on your knees. If you are very overweight, any loss of weight will be beneficial.\nGet advice from your physician about a healthy diet for you to follow. Remember that excess weight contributes to additional, more threatening diseases, such as diabetes, heart disease, and stroke, which could further limit your mobility."}, {"ID": 13.0, "FOL": "associated(Osteoarthritis,weight loss)", "Pattern": "NNVBINNN", "Question": " is Osteoarthritis associated with  weight loss?", "Answers": "No"}, {"ID": 14.0, "FOL": "(Chronic back pain Curable)", "Pattern": "NN", "Question": "Is Chronic back pain Curable?", "Answers": "A water therapy exercise program can help relieve\u00a0chronic pain\u00a0caused by certain lower\u00a0back\u00a0conditions. For many, this is an unfortunate reality thanks to conditions that are not easily treated and rarely\u00a0cured\u00a0such as degenerative disc disease, spinal stenosis and spondylolisthesis"}, {"ID": 15.0, "FOL": "(Stronger Painkillers,osteoarthritis treatment)", "Pattern": "NNINNN", "Question": " what are Stronger Painkillers for the treatment of osteoarthritis?", "Answers": "Prescription pain medication, such as codeine and propoxyphene (Darvon), may provide relief from more severe osteoarthritis pain but also carry a risk of dependence. Side effects may include nausea, constipation, and sleepiness."}, {"ID": 16.0, "FOL": "used(Radiofrequency denervation,Lower back pain treatment)", "Pattern": "NNVBINNN", "Question": "what is Radiofrequency denervation used for the treatment of Lower back pain?", "Answers": "Radiofrequency denervation is a procedure using electrical impulses to interrupt nerve conduction (including the conduction of pain signals). Using x-ray guidance, a needle is inserted into a target area of nerves and a local anesthetic is introduced as a way of confirming the involvement of the nerves in the person\u2019s back pain. Next, the region is heated, resulting in localized destruction of the target nerves. Pain relief associated with the technique is temporary and the evidence supporting this technique is limited."}, {"ID": 17.0, "FOL": "(fitness level affect Lower back pain)", "Pattern": "NN", "Question": "how does fitness level affect Lower back pain?", "Answers": "Back pain is more common among people who are not physically fit. Weak back and abdominal muscles may not properly support the spine. \u201cWeekend warriors\u201d\u2014people who go out and exercise a lot after being inactive all week\u2014are more likely to suffer painful back injuries than people who make moderate physical activity a daily habit. Studies show that low-impact aerobic exercise is beneficial for the maintaining the integrity of intervertebral discs."}, {"ID": 18.0, "FOL": "exercise(treat osteoarthritis)", "Pattern": "VBNN", "Question": "can exercise treat osteoarthritis?", "Answers": "yes."}, {"ID": 19.0, "FOL": "associated(factors osteoarthritis)", "Pattern": "NNVB", "Question": "what are the factors osteoarthritis not associated with?", "Answers": "Osteoarthritis is not associated with the presence of fever, weight loss, anorexia, severe muscle atrophy, or symmetrical joint involvement. That is, when the left knee is affected, the right may not be -- in contrast to other forms of arthritis where both are apt to be affected, called symmetrical involvement."}, {"ID": 20.0, "FOL": "inherited(osteoarthritis)", "Pattern": "NNVB", "Question": "Is osteoarthritis genetically inherited?", "Answers": "yes, because some sub-types of osteoarthritis seem to be inherited"}, {"ID": 21.0, "FOL": "(severe chronic back pain Causes)", "Pattern": "NN", "Question": "what are the Causes of severe chronic back pain?", "Answers": "The spine is composed of bony vertebrae, soft spinal discs, facet joints, muscles, ligaments and tendons. Within the bony vertebral canal lies the spinal cord, the fragile but powerful nerve path of the body\u2019s central nervous system.\n\nAfter years of movement and activity, however, parts of the spine can degenerate and become prone to damage. The following spine conditions commonly lead to severe chronic back pain:\n\nDegenerative disc disease \u2014 This condition develops as spinal discs weaken with age.\nSpinal arthritis \u2014 This is considered a disease of the joints of the spine, either through inflammation (rheumatoid spinal arthritis) or through degeneration (osteoarthritis).\nSpinal stenosis \u2014 This describes a narrowing of the spinal canal resulting in nerve compression."}, {"ID": 22.0, "FOL": "(Prevention,acute back pain)", "Pattern": "NNINNN", "Question": "what can be the Prevention for acute back pain?", "Answers": "There are many things you can do to lower your chances of getting back pain. Exercise is important for preventing back pain. Through exercise you can:\n\nImprove your posture\nStrengthen your back and improve flexibility\nLose weight\nAvoid falls\nIt is also very important to learn to lift and bend properly. Follow these tips:\n\nIf an object is too heavy or awkward, get help.\nSpread your feet apart to give your body a wide base of support when lifting.\nStand as close as possible to the object you are lifting.\nBend at your knees, not at your waist.\nTighten your stomach muscles as you lift the object or lower it down.\nHold the object as close to your body as you can.\nLift using your leg muscles.\nAs you stand up with the object, do not bend forward.\nDo not twist while you are bending down for the object, lifting it up, or carrying it.\nOther measures to prevent back pain include:\n\nAvoid standing for long periods. If you must stand for your work, alternate resting each foot on a stool.\nDo not wear high heels. Use cushioned soles when walking.\nWhen sitting for work, especially if you are using a computer, make sure your chair has a straight back with an adjustable seat and back, armrests, and a swivel seat.\nUse a stool under your feet while sitting so that your knees are higher than your hips.\nPlace a small pillow or rolled towel behind your lower back while sitting or driving for long periods.\nIf you drive a long distance, stop and walk around every hour. Bring your seat as far forward as possible to avoid bending. Do not lift heavy objects just after a ride.\nQuit smoking.\nLose weight.\nDo exercises on a regular basis to strengthen your abdominal and core muscles. This will strengthen your core to decrease the risk for further injuries.\nLearn to relax. Try methods such as yoga, tai chi, or massage."}, {"ID": 23.0, "FOL": "", "Pattern": "NNNN", "Question": "what are the symptoms of acute low back pain?", "Answers": "You may feel a variety of symptoms if you have hurt your back. You may have a tingling or burning sensation, a dull achy feeling, or sharp pain. The pain may be mild, or it can be so severe that you are unable to move.\nDepending on the cause of your back pain, you may also have pain in your leg, hip, or the bottom of your foot. You may also have weakness in your legs and feet."}, {"ID": 24.0, "FOL": "(occupation,osteoarthritis)", "Pattern": "NNINNN", "Question": "how is occupation responsible for osteoarthritis?", "Answers": "occupational injuries, studies report an increased incidence of osteoarthritis among workers who use certain joints repetitively, such as jackhammer operators (wrists, hands, and elbows), coal miners (knees), cotton pickers (fingers), and farmers (hips);"}, {"ID": 25.0, "FOL": "(name,condition)", "Pattern": "NNINNN", "Question": "What is the name for the condition that involves painful pressure on a specific nerve in the back?", "Answers": "Sciatica"}, {"ID": 26.0, "FOL": "disc(replacement help,Artificial)", "Pattern": "NNVBNN", "Question": "how does Artificial disc replacement help to reduce Lower back pain?", "Answers": "Artificial disc replacement is considered an alternative to spinal fusion for the treatment of people with severely damaged discs. The procedure involves removal of the disc and its replacement by a synthetic disc that helps restore height and movement between the vertebrae."}, {"ID": 27.0, "FOL": "", "Pattern": "NNNNINVBNN", "Question": "Is obesity a risk factor in developing osteoarthritis?", "Answers": "yes, obesity in women has definitely been shown to be a risk factor for development of knee osteoarthritis."}, {"ID": 28.0, "FOL": "(Backpack overload,children)", "Pattern": "NNINNN", "Question": "can Backpack overload in children cause lower  back pain?", "Answers": "Low back pain unrelated to injury or other known cause is unusual in pre-teen children. However, a backpack overloaded with schoolbooks and supplies can strain the back and cause muscle fatigue. The American Academy of Orthopaedic Surgeons recommends that a child\u2019s backpack should weigh no more than 15 to 20 percent of the child\u2019s body weight."}, {"ID": 29.0, "FOL": "associated(Osteoarthritis,anorexia)", "Pattern": "NNVBINNN", "Question": "is Osteoarthritis associated with  anorexia?", "Answers": "No"}, {"ID": 30.0, "FOL": "(Tramadol,osteoarthritis treatment)", "Pattern": "NNINNN", "Question": "what is Tramadol for treatment of osteoarthritis?", "Answers": "Tramadol (Ultram) is a prescription medication that serves as a centrally-acting analgesic. Although it has no anti-inflammatory effect, it helps to alleviate pain with fewer side effects (such as stomach ulcers and bleeding) than those of NSAIDs. Tramadol has been known to cause nausea and constipation. Generally, this drug is used for short-term treatment of acute flare-ups, or it is used in combination with acetaminophen to increase pain relief."}, {"ID": 31.0, "FOL": "", "Pattern": "NNINVBNN", "Question": "What are the risk factors for developing low back pain?", "Answers": "Beyond underlying diseases, certain other risk factors may elevate one\u2019s risk for low back pain, including:\n\nAge: The first attack of low back pain typically occurs between the ages of 30 and 50, and back pain becomes more common with advancing age. As people grow older, loss of bone strength from osteoporosis can lead to fractures, and at the same time, muscle elasticity and tone decrease. The intervertebral discs begin to lose fluid and flexibility with age, which decreases their ability to cushion the vertebrae. The risk of spinal stenosis also increases with age.\n\nFitness level: Back pain is more common among people who are not physically fit. Weak back and abdominal muscles may not properly support the spine. \u201cWeekend warriors\u201d\u2014people who go out and exercise a lot after being inactive all week\u2014are more likely to suffer painful back injuries than people who make moderate physical activity a daily habit. Studies show that low-impact aerobic exercise is beneficial for the maintaining the integrity of intervertebral discs.\n\nPregnancy is commonly accompanied by low back pain, which results from pelvic changes and alterations in weight loading. Back symptoms almost always resolve postpartum.\n\nWeight gain: Being overweight, obese, or quickly gaining significant amounts of weight can put stress on the back and lead to low back pain.\n\nGenetics: Some causes of back pain, such as ankylosing spondylitis, a form of arthritis that involves fusion of the spinal joints leading to some immobility of the spine, have a genetic component.\n\nOccupational risk factors: Having a job that requires heavy lifting, pushing, or pulling, particularly when it involves twisting or vibrating the spine, can lead to injury and back pain. An inactive job or a desk job may also lead to or contribute to pain, especially if you have poor posture or sit all day in a chair with inadequate back support.\n\nMental health factors: Pre-existing mental health issues such as anxiety and depression can influence how closely one focuses on their pain as well as their perception of its severity. Pain that becomes chronic also can contribute to the development of such psychological factors. Stress can affect the body in numerous ways, including causing muscle tension.\n\nBackpack overload in children: Low back pain unrelated to injury or other known cause is unusual in pre-teen children. However, a backpack overloaded with schoolbooks and supplies can strain the back and cause muscle fatigue. The American Academy of Orthopaedic Surgeons recommends that a child\u2019s backpack should weigh no more than 15 to 20 percent of the child\u2019s body weight."}, {"ID": 32.0, "FOL": "kyphoplasty(treatment,Vertebroplasty)", "Pattern": "NNVBNN", "Question": "what is a Vertebroplasty and kyphoplasty treatment for lower back pain?", "Answers": "Vertebroplasty and kyphoplasty are minimally invasive treatments to repair compression fractures of the vertebrae caused by osteoporosis. Vertebroplasty uses three-dimensional imaging to assist in guiding a fine needle through the skin into the vertebral body, the largest part of the vertebrae. A glue-like bone cement is then injected into the vertebral body space, which quickly hardens to stabilize and strengthen the bone and provide pain relief. In kyphoplasty, prior to injecting the bone cement, a special balloon is inserted and gently inflated to restore height to the vertebral structure and reduce spinal deformity."}, {"ID": 33.0, "FOL": "treat(osteoarthritis,medication)", "Pattern": "VBNNINNN", "Question": "how can we treat osteoarthritis without medication?", "Answers": "Exersise, maintain good nutrition and, if you are overweight, to reduce your weight."}, {"ID": 34.0, "FOL": "(different painkillers,osteoarthritis)", "Pattern": "NNINNN", "Question": "what are different painkillers for osteoarthritis?", "Answers": "codeine and propoxyphene (Darvon)"}, {"ID": 35.0, "FOL": "(body parts,osteoarthritis)", "Pattern": "NNINNN", "Question": "Which body parts hurts in osteoarthritis?", "Answers": "The joints most commonly involved are: the last and middle joint in the fingers; the joint that joins the thumb to the wrist; the hip; the knee; the neck; and the lower back."}, {"ID": 36.0, "FOL": "weight(gain cause)", "Pattern": "VBNN", "Question": "Can weight gain cause lower back pain?", "Answers": "Being overweight, obese, or quickly gaining significant amounts of weight can put stress on the back and lead to low back pain."}, {"ID": 37.0, "FOL": "needed(tests,acute back pain)", "Pattern": "NNVBINNN", "Question": "what are the tests needed for acute back pain?", "Answers": "When you first see your provider, you will be asked about your back pain, including how often it happens and how severe it is.\nYour provider will try to determine the cause of your back pain and whether it is likely to quickly get better with simple measures such as ice, mild painkillers, physical therapy, and proper exercises. Most of the time, back pain will get better using these methods.\nDuring the physical exam, your provider will try to pinpoint the location of the pain and figure out how it affects your movement.\nMost people with back pain improve or recover within 4 to 6 weeks. Your provider may not order any tests during the first visit unless you have certain symptoms.\nTests that might be ordered include:\nX-ray,CT scan of the lower spine,MRI of the lower spine."}, {"ID": 38.0, "FOL": "", "Pattern": "NNINVBNN", "Question": "what  are the exercise to reduce Lower back pain?", "Answers": "You may want to reduce your activity only for the first couple of days. Then, slowly start your usual activities after that. Do not perform activities that involve heavy lifting or twisting of your back for the first 6 weeks after the pain begins. After 2 to 3 weeks, you should gradually start exercising again.\nBegin with light aerobic activity. Walking, riding a stationary bicycle, and swimming are great examples. These activities can improve blood flow to your back and promote healing. They also strengthen muscles in your stomach and back.\nYou may benefit from physical therapy. Your provider will determine whether you need to see a physical therapist and can refer you to one. The physical therapist will first use methods to reduce your pain. Then, the therapist will teach you ways to prevent getting back pain again.\nStretching and strengthening exercises are important. But, starting these exercises too soon after an injury can make your pain worse. A physical therapist can tell you when to begin stretching and strengthening exercises and how to do them."}, {"ID": 39.0, "FOL": "used(Topical Pain Relievers,osteoarthritis)", "Pattern": "NNVBINNN", "Question": "what are the  Topical Pain Relievers used for osteoarthritis?", "Answers": "Over-the-counter gels, ointments, creams, and sprays ."}, {"ID": 40.0, "FOL": "cure(Lower Back pain,surgeries different type)", "Pattern": "NNVBNN", "Question": "what are the different type of surgeries used to cure Lower Back pain?", "Answers": "Vertebroplasty and kyphoplasty, Spinal laminectomy , Discectomy or microdiscectomy , Foraminotomy, Intradiscal electrothermal therapy (IDET) , Nucleoplasty, also called plasma disc decompression (PDD), Radiofrequency denervation, Spinal fusion , Artificial disc replacement ."}, {"ID": 41.0, "FOL": "(osteoarthritis common symptoms)", "Pattern": "NN", "Question": "What are the most common symptoms of osteoarthritis?", "Answers": "Pain is the most common symptom, and it occurs primarily when the joint is moved, rarely at rest. Pain is often accompanied by crepitus (a crackling sound). Some patients experience a \"gelling phenomenon\" -- the perception of stiffness, usually lasting less than 20 minutes in the affected joint. Why some people have pain with osteoarthritis and others do not remains unknown. The perception of pain depends not only on the disease process and the brain's processing of pain messages, but also on cultural, gender, and psychological factors. The joints most commonly involved are: the last and middle joint in the fingers; the joint that joins the thumb to the wrist; the hip; the knee; the neck; and the lower back.\n\nOsteoarthritis is not associated with the presence of fever, weight loss, anorexia, severe muscle atrophy, or symmetrical joint involvement. That is, when the left knee is affected, the right may not be -- in contrast to other forms of arthritis where both are apt to be affected, called symmetrical involvement. For more information, read our full In-Depth Disease Overview on osteoarthritis."}, {"ID": 42.0, "FOL": "", "Pattern": "NNNN", "Question": "Can back pain be cancer?", "Answers": "Tumors in the spinal column may cause back pain from expansion of the bone or from weakening the bone, which in turn can result in When Back Pain Is a Spine Compression Fracture, compression (pinching) of the nerves, or spinal instability."}, {"ID": 43.0, "FOL": "(des Analgesics treat osteoarthritis)", "Pattern": "NN", "Question": "how des Analgesics treat osteoarthritis?", "Answers": "If you are suffering from mild to moderate osteoarthritis pain, simple analgesics such as acetaminophen (Tylenol, others) can provide some relief. It\u2019s important to understand, however, that while acetaminophen can alleviate pain, it doesn't address inflammation. Be sure to inform your doctor if you are taking acetaminophen, because it can affect other medications that you may be taking. Also, ask your doctor about guidance for alcohol use, as consuming three or more alcoholic drinks a day while taking acetaminophen may cause liver damage."}, {"ID": 44.0, "FOL": "(lower back pain Myths)", "Pattern": "NN", "Question": "Myths of lower back pain.", "Answers": "A common misbelief about back pain is that you need to rest and avoid activity for a long time. In fact, bed rest is not recommended. If you have no sign of a serious cause for your back pain (such as loss of bowel or bladder control, weakness, weight loss, or fever), then you should stay as active as possible."}, {"ID": 45.0, "FOL": "sleeping(position,acute back pain)", "Pattern": "VBNNINNN", "Question": "sleeping position for acute back pain.", "Answers": "While sleeping, try lying in a curled-up, fetal position with a pillow between your legs. If you usually sleep on your back, place a pillow or rolled towel under your knees to relieve pressure."}, {"ID": 46.0, "FOL": "treated(osteoarthritis)", "Pattern": "NNVB", "Question": "How is osteoarthritis treated?", "Answers": "Treatment will depend on the severity of your osteoarthritis, any other diseases you have, and what medications you are taking, all of which will be determined by the physician during a complete examination. Treatment is aimed at control of pain by decreasing inflammation in the joint and with analgesics; oral medications may be prescribed, or injections into the joint. With the help of the physician and literature from the Arthritis Foundation, patients should first educate themselves about the disease and the various therapy modalities, such as\u00a0physical and occupational therapy, especially the importance of exercise. It is also wise to maintain good nutrition and, if you are overweight, to reduce your weight."}, {"ID": 47.0, "FOL": "(Severe chronic back pain)", "Pattern": "NN", "Question": "what is a Severe chronic back pain?", "Answers": "Severe chronic back pain is a serious, recurring condition that affects a person\u2019s everyday life. Back pain lasting more than three months is considered chronic. If this pain continues after months of nonsurgical treatment, it may indicate that the nonsurgical treatments have not provided adequate relief."}, {"ID": 48.0, "FOL": "used(different NSAIDs,osteoarthritis pain)", "Pattern": "NNVBINNN", "Question": "different NSAIDs used for osteoarthritis pain?", "Answers": "ibuprofen (Advil, Motrin, others) and naproxen sodium (Aleve)."}, {"ID": 49.0, "FOL": "inherited(Lower back pain)", "Pattern": "NNVB", "Question": "is Lower back pain inherited?", "Answers": "yes, Some causes of back pain, such as ankylosing spondylitis, a form of arthritis that involves fusion of the spinal joints leading to some immobility of the spine, have a genetic component."}, {"ID": 50.0, "FOL": "", "Pattern": "NNNNVBINNN", "Question": "what is Discectomy or micro discectomy treatment used for lower back pain?", "Answers": "Discectomy or microdiscectomy may be recommended to remove a disc, in cases where it has herniated and presses on a nerve root or the spinal cord, which may cause intense and enduring pain. Microdiscectomy is similar to a conventional discectomy; however, this procedure involves removing the herniated disc through a much smaller incision in the back and a more rapid recovery. Laminectomy and discectomy are frequently performed together and the combination is one of the more common ways to remove pressure on a nerve root from a herniated disc or bone spur."}, {"ID": 51.0, "FOL": "", "Pattern": "NNNNVBNN", "Question": "Osteoarthritis? Arthritis? Whats the difference?", "Answers": "Osteoarthritis is so common, that conversationally, when people say \u201carthritis\u201d they are usually referring to OA. But medically, the term \u201carthritis\u201d refers to a range of conditions involving the joints. Other painful arthritic conditions are the result of swelling and inflammation in the joints caused by autoimmune reactions. These conditions include Rheumatoid Arthritis, Inflammatory Arthritis, and Spondylosis."}, {"ID": 52.0, "FOL": "(des NSAIDs treat osteoarthritis)", "Pattern": "NN", "Question": "how des NSAIDs  treat osteoarthritis?", "Answers": "Nonsteroidal anti-inflammatory drugs (NSAIDs) can relieve pain and reduce inflammation. Over-the-counter NSAIDs include ibuprofen (Advil, Motrin, others) and naproxen sodium (Aleve). Stronger versions of these NSAIDs and others are available by prescription. Oral NSAIDs can cause stomach upset, so some prescription NSAIDs come in a patch that you affix to your skin or in a gel form that you can rub on the painful joint. Other NSAID side effects include ringing in your ears, ulcers, stomach or intestinal bleeding, cardiovascular problems, liver and kidney damage, heart failure, fluid retention, and kidney failure. The risk of major side effects is greatest if you use NSAIDs at high dosages for long-term treatment."}, {"ID": 53.0, "FOL": "used(Antidepressants,osteoarthritis treatment)", "Pattern": "NNVBINNN", "Question": "what are the Antidepressants used for the treatment of osteoarthritis?", "Answers": "Antidepressants can help alleviate the depression associated with chronic pain while helping to reduce pain. Those used for arthritis treatment are amitriptyline (Elavil, Endep), desipramine (Norpramin, Pertofrane), imipramine (Tofranil, Norfranil) and nortriptyline (Pamelor, Aventyl)."}, {"ID": 54.0, "FOL": "Contact(Medical Professional,lower back pain)", "Pattern": "VBNNINNN", "Question": "When to Contact a Medical Professional in lower back pain?", "Answers": "Call your provider right away if you have:\nBack pain after a severe blow or fall\nBurning with urination or blood in your urine\nHistory of cancer\nLoss of control over urine or stool (incontinence)\nPain traveling down your legs below the knee\nPain that is worse when you lie down or pain that wakes you up at night\nRedness or swelling on the back or spine\nSevere pain that does not allow you to get comfortable\nUnexplained fever with back pain\nWeakness or numbness in your buttocks, thigh, leg, or pelvis\nYou have been losing weight unintentionally\nYou use steroids or intravenous drugs\nYou have had back pain before, but this episode is different and feels worse\nThis episode of back pain has lasted longer than 4 weeks\n"}, {"ID": 55.0, "FOL": "", "Pattern": "NNNN", "Question": "Is chronic back pain a disability?", "Answers": "However, lower\u00a0back pain\u00a0can usually be linked to a general cause (such as muscle strain) or a specific and diagnosable condition (such as degenerative disc disease or a herniated disc). To qualify for\u00a0disability\u00a0benefits because of\u00a0back pain, you must have a specific diagnosis for what's causing the\u00a0pain."}, {"ID": 56.0, "FOL": "taken(pain relievers,acute back pain)", "Pattern": "NNVBINNN", "Question": "What are the pain relievers taken for acute back pain?", "Answers": "pain relievers such as ibuprofen (Advil, Motrin) or acetaminophen (Tylenol) are to be taken."}, {"ID": 57.0, "FOL": "", "Pattern": "NNNNNNVBINNN", "Question": "what is Nucleoplasty/plasma disc decompression (PDD) used for the treatment of lower back pain?", "Answers": "Nucleoplasty, also called plasma disc decompression (PDD), is a type of laser surgery that uses radiofrequency energy to treat people with low back pain associated with mildly herniated discs. Under x-ray guidance, a needle is inserted into the disc. A plasma laser device is then inserted into the needle and the tip is heated to 40-70 degrees Celsius, creating a field that vaporizes the tissue in the disc, reducing its size and relieving pressure on the nerves. Several channels may be made depending on how tissue needs to be removed to decompress the disc and nerve root."}, {"ID": 58.0, "FOL": "do(back pain)", "Pattern": "VBINNN", "Question": "What to do if the back pain persists for more than a month?", "Answers": "If your pain lasts longer than 1 month, your primary provider may send you to see either an orthopedist (bone specialist) or neurologist (nerve specialist).\nIf your pain has not improved after use of medicines, physical therapy, and other treatments, your provider may recommend an epidural injection.\nYou may also see:\nA massage therapist\nSomeone who performs acupuncture\nSomeone who does spinal manipulation (a chiropractor, osteopathic doctor, or physical therapist)\nSometimes, a few visits to these specialists will help back pain."}, {"ID": 59.0, "FOL": "", "Pattern": "NNINVBNNNNNNINVBNN", "Question": "Are there exercises that I can do to improve my joint flexibility, strength, and fitness, and to relieve my pain?", "Answers": "A regular exercise program is crucial to managing your osteoarthritis and staying well. The proven physical benefits of exercise \u2013 improved joint flexibility, strength, fitness, as well as more energy, and better pain relief \u2013 will help you optimize your physical mobility now and in the future.\n\nConsult with your physician and seek the guidance of an experienced physical therapist; performing the wrong exercises can place undue stress on the joint and exacerbate the condition."}, {"ID": 60.0, "FOL": "(Spinal fusion,Lower back pain treatment)", "Pattern": "NNINNN", "Question": "how is Spinal fusion useful for the treatment of Lower back pain?", "Answers": "Spinal fusion is used to strengthen the spine and prevent painful movements in people with degenerative disc disease or spondylolisthesis (following laminectomy). The spinal disc between two or more vertebrae is removed and the adjacent vertebrae are \u201cfused\u201d by bone grafts and/or metal devices secured by screws. The fusion can be performed through the abdomen, a procedure known as an anterior lumbar interbody fusion, or through the back, called posterior fusion. Spinal fusion may result in some loss of flexibility in the spine and requires a long recovery period to allow the bone grafts to grow and fuse the vertebrae together. Spinal fusion has been associated with an acceleration of disc degeneration at adjacent levels of the spine."}, {"ID": 61.0, "FOL": "(Viscos supplementation helpful,osteoarthritis treatment)", "Pattern": "NNINNN", "Question": "how is Viscos supplementation helpful in treatment of osteoarthritis?", "Answers": "Viscosupplementation is a newer therapy, proven useful in animals, that has been developed to treat patients with long-standing, painful osteoarthritis who might not be appropriate for more traditional therapy. In normal joint function, synovial fluid has the ability to change from viscous properties to elastic properties as load is increased. This is important to provide a frictionless surface. Hyaluronic acid is an important high molecular weight component of synovial fluid.  Enzymes and free radicals, generated during inflammation in osteoarthritis, degrade hyaluronic acid such that it loses its viscous and elastic properties. In addition to contributing to loss of joint function, some research has postulated that the degraded hyaluronic acid in itself contributes further to joint damage. Viscosupplementation with hyaluronic acid may delay and possibly halt progression of osteoarthritis."}, {"ID": 62.0, "FOL": "handle(pain,acute back pain)", "Pattern": "VBNNINNN", "Question": "how to handle the pain in acute back pain?", "Answers": "Stop normal physical activity for the first few days. This will help relieve your symptoms and reduce any swelling in the area of the pain.\nApply heat or ice to the painful area. One good method is to use ice for the first 48 to 72 hours, and then use heat.\nTake over-the-counter pain relievers such as ibuprofen (Advil, Motrin) or acetaminophen (Tylenol). Follow package instructions on how much to take. Do not take more than the recommended amount."}, {"ID": 63.0, "FOL": "used(Nutraceuticals,osteoarthritis treatment)", "Pattern": "NNVBINNN", "Question": "what Nutraceuticals are used for the treatment of osteoarthritis", "Answers": "glucosamine and chondroitin sulfate."}, {"ID": 64.0, "FOL": "used(COX-2 Inhibitors,osteoarthritis treatment)", "Pattern": "NNVBINNN", "Question": "what COX-2 Inhibitors are used for treatment of osteoarthritis.", "Answers": "celecoxib (Celebrex)"}, {"ID": 65.0, "FOL": "(painkiller,back pain)", "Pattern": "NNINNN", "Question": "What painkiller is best for back pain?", "Answers": "Tylenol (acetaminophen), while not a nonsteroidal anti-inflammatory drug, is also a common over-the-counter pain reliever used to treat back pain. There are also prescription-only NSAIDs, such as celecoxib (Celebrex), diclofenac (Voltaren), meloxicam (Mobic), and nabumetone (Relafen)."}, {"ID": 66.0, "FOL": "", "Pattern": "NNNN", "Question": "what are the side effects of using Doliprane?", "Answers": "Bloody or black, tarry stools\nbloody or cloudy urine\nfever with or without chills (not present before treatment and not caused by the condition being treated)\npain in the lower back and/or side (severe and/or sharp)\npinpoint red spots on the skin\nskin rash, hives, or itching\nsore throat (not present before treatment and not caused by the condition being treated)\nsores, ulcers, or white spots on the lips or in the mouth\nsudden decrease in the amount of urine\nunusual bleeding or bruising\nunusual tiredness or weakness\nyellow eyes or skin"}, {"ID": 67.0, "FOL": "tried(drugs variety)", "Pattern": "VBNN", "Question": "I have tried a variety of drugs to help me cope with the pain, and they are not providing enough relief. I do not feel ready for surgery; are there any other treatments available to me?", "Answers": "yes, there are like Intra-articular injections  of cortisone, Viscosupplementation, Nutraceuticals"}, {"ID": 68.0, "FOL": "(cartilage Role,osteoarthritis)", "Pattern": "NNINNN", "Question": "what is the Role of cartilage on osteoarthritis?", "Answers": "Cartilage is the spongy tissue that coats the ends of bones in joints and acts as a shock absorber. Normally, damaged cartilage is constantly being repaired as old cartilage is degraded. When the balance between degradation and repair is thrown off, cartilage breakdown occurs. As a result of cartilage breakdown, damage to bone occurs. The result can be painful, tender, creaky joints and limitations on joint movement."}, {"ID": 69.0, "FOL": "prevent(acute,exercise)", "Pattern": "VBNNINNN", "Question": "can we prevent acute back pain through exercise?", "Answers": "cise is important for preventing back pain. Improve posture, Strengthen your back and improve flexibility, Lose weight and avoid falls can also help."}, {"ID": 70.0, "FOL": "associated(risk factor,Osteoarthritis)", "Pattern": "NNVBINNN", "Question": "what are the risk factor associated with Osteoarthritis?", "Answers": "Being Over 65, Prior Injury , Being Female, Being Overweight , Family History"}, {"ID": 71.0, "FOL": "(acute Low back pain)", "Pattern": "NN", "Question": "What is acute Low back pain?", "Answers": "Low back pain refers to pain that you feel in your lower back which might persist from few days to few weeks. You may also have back stiffness, decreased movement of the lower back, and difficulty standing straight. "}, {"ID": 72.0, "FOL": "(acute Low back pain causes)", "Pattern": "NN", "Question": "What are the causes of acute Low back pain?", "Answers": "Acute low back pain is most often caused by a sudden injury to the muscles and ligaments supporting the back. The pain may be caused by muscle spasms or a strain or tear in the muscles and ligaments."}, {"ID": 73.0, "FOL": "(osteoarthritis Pain)", "Pattern": "NN", "Question": "Pain of osteoarthritis", "Answers": "Pain is often accompanied by crepitus (a crackling sound). Some patients experience a \"gelling phenomenon\" -- the perception of stiffness, usually lasting less than 20 minutes in the affected joint. Why some people have pain with osteoarthritis and others do not remains unknown. The perception of pain depends not only on the disease process and the brain's processing of pain messages, but also on cultural, gender, and psychological factors. The joints most commonly involved are: the last and middle joint in the fingers; the joint that joins the thumb to the wrist; the hip; the knee; the neck; and the lower back."}, {"ID": 74.0, "FOL": "do(osteoarthritis)", "Pattern": "NNVB", "Question": "What is osteoarthritis and what does it do?", "Answers": "steoarthritis - known among physicians as OA - is a disease in which cartilage breaks down. Cartilage is the spongy tissue that coats the ends of bones in joints and acts as a shock absorber. Normally, damaged cartilage is constantly being repaired as old cartilage is degraded. When the balance between degradation and repair is thrown off, cartilage breakdown occurs. As a result of cartilage breakdown, damage to bone occurs. The result can be painful, tender, creaky joints and limitations on joint movement.\u00a0"}, {"ID": 75.0, "FOL": "Ankylosing(spondylitis)", "Pattern": "VBNN", "Question": "what is Ankylosing spondylitis?", "Answers": "Ankylosing spondylitis (AS) is a form of arthritis that typically involves the joints of the spinal column and causes back pain. AS pain may be mild or severe, and in severe cases, bones of the spine can fuse together, leading to a loss of flexibility and stiffening of the rib cage. AS can often affect the sacroiliac joint, where the spine meets the pelvic bones."}, {"ID": 76.0, "FOL": "(COX-2 Inhibitors,osteoarthritis treatment)", "Pattern": "NNINNN", "Question": "COX-2 Inhibitors for treatment of osteoarthritis", "Answers": "COX-2 Inhibitors are as effective for managing pain and inflammation as NSAIDs, but they have fewer stomach-injuring side effects. Examples include celecoxib (Celebrex). They are more expensive than NSAIDs and do have side effects of their own, including fluid retention (which may worsen heart failure) and stomach ulcers, especially if you have experienced gastrointestinal bleeding in the past. They may also be associated with an increased risk of heart attack, transient ischemic attack, or stroke. The risk is greater if you have heart disease or use NSAIDs for a long time. It's important to discuss the risks and benefits of using these medications with your physician."}, {"ID": 77.0, "FOL": "(osteoarthritis)", "Pattern": "NN", "Question": "What is osteoarthritis?", "Answers": "Osteoarthritis - known among physicians as OA - is a disease in which cartilage breaks down.\u00a0"}, {"ID": 78.0, "FOL": "", "Pattern": "NNNNINNN", "Question": "different ways of controlling pain in osteoarthritis.", "Answers": "Treatment is aimed at control of pain by decreasing inflammation in the joint and with analgesics; oral medications may be prescribed, or injections into the joint."}, {"ID": 79.0, "FOL": "", "Pattern": "NNNNINNN", "Question": "age is a cause for osteoarthritis?", "Answers": "yes, because the prevalence of osteoarthritis increases in older age groups."}, {"ID": 80.0, "FOL": "", "Pattern": "NNNNVBINNN", "Question": "Intradiscal electrothermal therapy (IDET) used for the treatment of lower back pain?", "Answers": "Intradiscal electrothermal therapy (IDET) is a treatment for discs that are cracked or bulging as a result of degenerative disc disease. The procedure involves inserting a catheter through a small incision at the site of the disc in the back. A special wire is passed through the catheter and an electrical current is applied to heat the disc, which helps strengthen the collagen fibers of the disc wall, reducing the bulging and the related irritation of the spinal nerve. IDET is of questionable benefit."}, {"ID": 81.0, "FOL": "(medical term,spine arthritis)", "Pattern": "NNINNN", "Question": "What is medical term for arthritis of the spine?", "Answers": "Ankylosing spondylitis. "}, {"ID": 82.0, "FOL": "", "Pattern": "NNINVBNN", "Question": "Topical Pain Relievers to  treat osteoarthritis", "Answers": "Over-the-counter gels, ointments, creams, and sprays can temporarily ease OA pain and reduce swelling in joints close to the surface of the skin, such as fingers, knees, and elbows. Topical pain relievers include trolamine salicylate (found in Aspercreme and Sportscreme); methyl salicylate, menthol, and camphor (found in Double Ice ArthriCare, Eucalyptamint, Icy Hot, and Ben-Gay); or capsaicin from the seeds of hot chili peppers (found in Zostrix and Capzasin-P)."}, {"ID": 83.0, "FOL": "", "Pattern": "NNINVBNN", "Question": "what is Foraminotomy treatment to cure lower back pain?", "Answers": "Foraminotomy is an operation that \u201ccleans out\u201d or enlarges the bony hole (foramen) where a nerve root exits the spinal canal. Bulging discs or joints thickened with age can cause narrowing of the space through which the spinal nerve exits and can press on the nerve, resulting in pain, numbness, and weakness in an arm or leg. Small pieces of bone over the nerve are removed through a small slit, allowing the surgeon to cut away the blockage and relieve pressure on the nerve."}, {"ID": 84.0, "FOL": "(Chronic back pain)", "Pattern": "NN", "Question": "what is a Chronic back pain?", "Answers": "Chronic back pain is defined as pain that persists for 12 weeks or longer, even after an initial injury or underlying cause of acute low back pain has been treated. About 20 percent of people affected by acute low back pain develop chronic low back pain with persistent symptoms at one year."}, {"ID": 85.0, "FOL": "consider(surgery,osteoarthritis)", "Pattern": "VBNNINNN", "Question": "When should I consider surgery in osteoarthritis?", "Answers": "When conservative measures for treating osteoarthritis fail and pain in a specific joint disables an active individual, surgery may restore a patient\u2019s comfort and ability to pursue normal activities.  Since such a surgery will relieve pain more than it will restore range of motion. the best candidate for surgery is the patient whose arthritic pain has interrupted the activity of daily living (i.e. can't walk more than a block or awakens from sleep with pain in the affected joint) and who has not been helped sufficiently by activity modification, physical therapy and drug therapy. For such patients, surgery relieves joint pain and improves their quality of life. The type of surgery recommended will depend on a patient\u2019s age, activity level, and the joint involved. When appropriate, total joint replacements are available for almost every joint in the body.  "}, {"ID": 86.0, "FOL": "associated(Osteoarthritis,fever)", "Pattern": "NNVBINNN", "Question": "is Osteoarthritis associated with fever?", "Answers": "No"}, {"ID": 87.0, "FOL": "(Lower back pain main cause)", "Pattern": "NN", "Question": "what is the main cause of Lower back pain?", "Answers": "Because the lower back supports most of your body's weight."}, {"ID": 88.0, "FOL": "cause(Lower back pain,Pregnancy)", "Pattern": "NNVBNN", "Question": "How does Pregnancy cause Lower back pain?", "Answers": "Pregnancy is commonly accompanied by low back pain, which results from pelvic changes and alterations in weight loading. Back symptoms almost always resolve postpartum."}, {"ID": 89.0, "FOL": "", "Pattern": "NNNNINNN", "Question": "What is a Spinal laminectomy or spinal decompression treatment for Lower Back pain?", "Answers": "Spinal laminectomy (also known as spinal decompression) is performed when spinal stenosis causes a narrowing of the spinal canal that causes pain, numbness, or weakness. During the procedure, the lamina or bony walls of the vertebrae, along with any bone spurs, are removed. The aim of the procedure is to open up the spinal column to remove pressure on the nerves."}, {"ID": 90.0, "FOL": "(nutrition deficiency result,Osteoarthritis)", "Pattern": "NNINNN", "Question": "which nutrition deficiency result in Osteoarthritis?", "Answers": "obesity in women has definitely been shown to be a risk factor for development of knee osteoarthritis.lack of vitamin D may predispose patients with established osteoarthritis of the knee to further progression."}, {"ID": 91.0, "FOL": "", "Pattern": "NNNN", "Question": "how Mental health factors affect Lower back pain?", "Answers": "Pre-existing mental health issues such as anxiety and depression can influence how closely one focuses on their pain as well as their perception of its severity. Pain that becomes chronic also can contribute to the development of such psychological factors. Stress can affect the body in numerous ways, including causing muscle tension."}, {"ID": 92.0, "FOL": "(Nutraceuticals,osteoarthritis treatment)", "Pattern": "NNINNN", "Question": "Nutraceuticals in treatment of osteoarthritis?", "Answers": "\"Nutraceuticals\", such as glucosamine and chondroitin sulfate, are also available. The purported effect of these supplements is to enhance cartilage metabolism, minimize progressive degeneration and possibly promote cartilage regeneration. However, because these substances are not regulated by the FDA, and because there is insufficient clinical data to demonstrate their efficacy, it is difficult to assess their true value at this time."}, {"ID": 93.0, "FOL": "(osteoarthritis greater risk)", "Pattern": "NN", "Question": "What puts me at greater risk of osteoarthritis?", "Answers": "Age, because the prevalence of osteoarthritis increases in older age groups;\nGenetics, because some sub-types of osteoarthritis seem to be inherited;\nHormones, because post-menopausal estrogen replacement therapy helps protect women from developing osteoarthritis;\nTrauma, especially injuries of the knee;\nPossibly occupational injuries, because studies report an increased incidence of osteoarthritis among workers who use certain joints repetitively, such as jackhammer operators (wrists, hands, and elbows), coal miners (knees), cotton pickers (fingers), and farmers (hips);\nBeing overweight, because obesity in women has definitely been shown to be a risk factor for development of knee osteoarthritis;\nNutrition, because lack of vitamin D may predispose patients with established osteoarthritis of the knee to further progression."}, {"ID": 94.0, "FOL": "associated(Osteoarthritis,symmetrical joint involvement)", "Pattern": "NNVBINNN", "Question": "is Osteoarthritis associated with symmetrical joint involvement?", "Answers": "No"}, {"ID": 95.0, "FOL": "play(role,hormone)", "Pattern": "NNVBNN", "Question": "does hormone play a role in getting osteoarthritis?", "Answers": "yes,because post-menopausal estrogen replacement therapy helps protect women from developing osteoarthritis"}]

@app.route('/', methods=['GET'])
def home():
    return "<h1>osteoarthritis</h1><p>This site answers the questions on osteoarthritis.</p>"

def FOL_Creation(question):
    millis = int(round(time.time() * 1000))
    question = string.replace(question, "in case of", "in")
    question = string.replace(question, "due to", "in")
    question = string.replace(question, "when i have", "in")
    df1 = pd.DataFrame()
    a =  [question]
    tagged_texts = pos_tag_sents(map(word_tokenize, a))
    rows = 0
    for i in tagged_texts[0]:
        df1.loc[rows,"word"] = i[0]
        df1.loc[rows,"tag"] = i[1]
        df1.loc[rows,"ID"] = 1
        df1.loc[rows,"Question"] = question        
        rows = rows+1
    for i in range(0,len(df1)):
        if ((df1.iloc[i][0] == "hormone") or (df1.iloc[i][0] == "chronic") or (df1.iloc[i][0] == "acute") or (df1.iloc[i][0] == "osteoarthritis") or (df1.iloc[i][0] == "doctor") ) :
            df1.iloc[i,1] = "NN"
        if((df1.iloc[i][0] == "cause") or (df1.iloc[i][0] == "causes")):
            df1.iloc[i,1] = "VB"
    
    # Combining all back pain word
    for j in range (0,len(df1)-1):
        a= df1.iloc[j][0]
        b= df1.iloc[j+1][0]
        a1=a.find("back")
        b1= b.find("pain")
        if((a1+b1 == 0) and (df1.iloc[j][3] == df1.iloc[j+1][3])):
            df1.iloc[j+1,0] = df1.iloc[j][0] + " " + df1.iloc[j+1][0]
            df1.iloc [j,0] = "ABCDE"
    df1 = df1[df1.word != 'ABCDE']
    
    #Combining all the nouns together
    for j in range (0,len(df1)-1):
        a= df1.iloc[j][1]
        b= df1.iloc[j+1][1]
        a1=a.find("NN")
        b1= b.find("NN")
        if((a1+b1 == 0) and (df1.iloc[j][3] == df1.iloc[j+1][3])):
            df1.iloc[j+1,0] = df1.iloc[j][0] + " " + df1.iloc[j+1][0]
            df1.iloc [j,0] = "ABCDE"
    df1 = df1[df1.word != 'ABCDE']
    
    # Combining all the Adjectives together
    for j in range (0,len(df1)-1):
        a= df1.iloc[j][1]
        b= df1.iloc[j+1][1]
        a1=a.find("JJ")
        b1= b.find("JJ")
        if((a1+b1 == 0) and (df1.iloc[j][3] == df1.iloc[j+1][3])):
            df1.iloc[j+1,0] = df1.iloc[j][0] + " " + df1.iloc[j+1][0]
            df1.iloc [j,0] = "ABCDE"
    df1 = df1[df1.word != 'ABCDE']
    
    # Combining all the Adjectives and now together
    for j in range (0,len(df1)-1):
        a= df1.iloc[j][1]
        b= df1.iloc[j+1][1]
        a1=a.find("JJ")
        b1= b.find("NN")
        if((a1+b1 == 0) and (df1.iloc[j][3] == df1.iloc[j+1][3])):
            df1.iloc[j+1,0] = df1.iloc[j][0] + " " + df1.iloc[j+1][0]
            df1.iloc [j,0] = "ABCDE"
    df1 = df1[df1.word != 'ABCDE']
    
    #Removing being word
    df1 = df1[(df1.word != "being")]
    
    #removing be word
    df1 = df1[(df1.word != "be")]
    
    #Removing of VBZ and VBP tags
    df1 = df1[(df1.tag != "VBP")]
    df1 = df1[(df1.tag != "VBZ")]
    
    # Taking care of VB TO VB
    for j in range (0,len(df1)-2):
        a= df1.iloc[j][1]
        b= df1.iloc[j+1][1]
        c= df1.iloc[j+2][1]
        a1=a.find("VB")
        b1= b.find("TO")
        c1= c.find("VB")
        if((a1+b1+c1 == 0) and (df1.iloc[j][3] == df1.iloc[j+1][3])):
            df1.iloc[j+2,0] = df1.iloc[j+2][0]
            df1.iloc [j,0] = "ABCDE"
            df1.iloc[j+1,0] = "ABCDE"
    df1 = df1[df1.word != 'ABCDE']
    
    # Taking care of VB VB
    for j in range (0,len(df1)-1):
        a= df1.iloc[j][1]
        b= df1.iloc[j+1][1]
        a1=a.find("VB")
        b1= b.find("VB")
        if((a1+b1 == 0) and (df1.iloc[j][3] == df1.iloc[j+1][3])):
            df1.iloc[j+1,0] = df1.iloc[j+1][0]
            df1.iloc [j,0] = "ABCDE"
    df1 = df1[df1.word != 'ABCDE']
    
    #Having common nomenclture
    for i in range(0,len(df1)):
        a='VB'
        b='NN'
        c='TO'
        a1= df1.iloc[i,1].find(a)
        a2 = df1.iloc[i,1].find(b)
        a3 = df1.iloc[i,1].find(c)
        if(a1 == 0):
            df1.iloc[i,1]='VB'
        if(a2 == 0):
            df1.iloc[i,1]='NN'
        if(a3==0):
            df1.iloc[i,1]='IN'
            
    #Keeping only VB IN NN
    df1 = df1[(df1.tag == 'NN') | (df1.tag == 'IN') |(df1.tag == 'VB')]
    
    #Word Count for each sentence
    df1["wid"] = 0
    df1["wid"] = df1.groupby("ID").cumcount()+1
    
    #Taking care of "of" preposition
    rang = len(df1)
    for j in range (0,rang-1):
        #print(j)
        a= df1.iloc[j][0]
        a1= a.find("of")
        #b1= a.find("in")
        #test = 0
        if(a1 == 0 and df1.iloc[j][4]!=1 and (df1.iloc[j][3] == df1.iloc[j+1][3]) and (df1.iloc[j][3] == df1.iloc[j-1][3]) ):
            df1.iloc[j,0] = df1.iloc[j+1][0] + " " + df1.iloc[j-1][0]
            df1.iloc[j,1] = "NN"
            df1.iloc [j-1,0] = "ABCDE"
            df1.iloc [j+1,0] = "ABCDE"
    df1 = df1[df1.word != 'ABCDE']
    
    #Resetting the counter
    df1["wid"] = 0
    df1["wid"] = df1.groupby("ID").cumcount()+1
    
    tdf = pd.DataFrame(df1.ID.unique())
    tdf['FOL']= " "
    tdf['Pattern'] = " "
    tdf.columns = ["ID","FOL", "Pattern"]
    
    a = 'NNVBNN'
    b = 'NNVBINNN'
    c = 'VBNNINNN'
    d = 'NNINNNINNN'
    e = 'NNINNN'
    f = 'NNVBINVBNN'
    g = 'NNINNNINNNINNN'
    h = 'NN'
    k = 'NNVBINNNINNN'
    l = 'VBNN'
    x = 'NNVB'
    y= 'NNINVBNN'
    z = 'VBINNNINNN'
    m = 'VBINNN'
    s = ""
    for i in range(0,len(tdf)):
        df2 = df1[df1.ID == tdf.iloc[i,0]]
        if(df2.iloc[0,1] == 'IN'):
            df2 = df2.iloc[1:]
        for j in range(0,len(df2)):
            s = s + df2.iloc[j,1]
   
        a1 = a2 = a3 = a4 = a7 = a8 = a9 = a10 = a11 = a12 = a13 = a14 = -1

        a9 = s.find(g)
        if(a9 !=0):
            a4 = s.find(d)
        if(a9!=0 and a4!=0):
            a7 = s.find(e)

        a11 = s.find(k)
        if(a11!=0):
            a2 = s.find(b)
        a1 = s.find(a)
        if(a1!=0):
            a13 = s.find(x)
        a3 = s.find(c)
        if(a3!=0):
            a12 = s.find(l)
    
        a8 = s.find(f)
        if(a1!=0 and a2!=0 and a3!=0 and a4!=0 and a7!=0 and a8!=0 and a9!=0 and a11!=0 and a12!=0 and a13!=0):
            a10 = s.find(h)
        a14 = s.find(y)


        a5 = [a1,a2,a3,a4,a7,a8,a9,a10,a11,a12,a13,a14]
        a6 = [a,b,c,d,e,f,g,h,k,l,x,y]
        if(a5 == [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]):
            tdf.iloc[i,1] = "No match"
            tdf.iloc[i,2] = a6[ind]
        else:
            ind = a5.index(min([n for n in a5 if n>=0]))
            diff = len(s) - len(a6[ind])
            if(ind == 0):
                s1 = df2.iloc[1,0]+"("+ df2.iloc[2,0] +"," + df2.iloc[0,0]+")" 
                tdf.iloc[i,1] = s1
                tdf.iloc[i,2] = a6[ind]
            elif(ind == 1):
                s1 = df2.iloc[1,0]+"("+ df2.iloc[0,0] +"," +df2.iloc[3,0]+")" 
                tdf.iloc[i,1] = s1
                tdf.iloc[i,2] = a6[ind]
            elif(ind == 2):
                s1 = df2.iloc[0,0]+"("+ df2.iloc[1,0] +"," +df2.iloc[3,0]+")"  
                tdf.iloc[i,1] = s1
                tdf.iloc[i,2] = a6[ind]
            elif(ind == 3):
                s1 = "("+ df2.iloc[0,0]+"," +df2.iloc[2,0]+"," +df2.iloc[4,0]+")"
                tdf.iloc[i,1] = s1
                tdf.iloc[i,2] = a6[ind]
            elif(ind == 4):
                s1 = "("+ df2.iloc[0,0]+"," +df2.iloc[2,0]+")"
                tdf.iloc[i,1] = s1
                tdf.iloc[i,2] = a6[ind]
            elif(ind == 5):
                s1 = df2.iloc[3,0]+"("+ df2.iloc[0,0] +"," +df2.iloc[4,0]+")"
                tdf.iloc[i,1] = s1
                tdf.iloc[i,2] = a6[ind]
            elif(ind == 6):
                s1 = "("+ df2.iloc[0,0]+"," +df2.iloc[2,0]+"," +df2.iloc[4,0]+ ","  +df2.iloc[6,0]+")"
                tdf.iloc[i,1] = s1
                tdf.iloc[i,2] = a6[ind]
            elif((ind == 7) and len(df2) == 1):
                s1 = "(" + df2.iloc[0,0] +")"
                tdf.iloc[i,1] = s1
                tdf.iloc[i,2] = a6[ind]
            elif(ind == 8):
                s1 = df2.iloc[0,0]+"("+ df2.iloc[1,0] +"," +df2.iloc[3,0]+ "," +df2.iloc[5,0]+")"
                tdf.iloc[i,1] = s1
                tdf.iloc[i,2] = a6[ind]
            elif(ind == 9):
                s1 = df2.iloc[0,0]+"("+ df2.iloc[1,0] +")"
                tdf.iloc[i,1] = s1
                tdf.iloc[i,2] = a6[ind]
            elif(ind == 10):
                s1 = df2.iloc[1,0]+"("+ df2.iloc[0,0] +")"
                tdf.iloc[i,1] = s1
                tdf.iloc[i,2] = a6[ind]
            elif(ind == 11):
                s1 = df2.iloc[2,0]+"("+ df2.iloc[0,0] +"," +df2.iloc[3,0]+")" 
                tdf.iloc[i,1] = s1
                tdf.iloc[i,2] = a6[ind]
            elif(ind == 12):
                s1 = df2.iloc[0,0]+"("+ df2.iloc[4,0] +"," +df2.iloc[2,0]+")" 
                tdf.iloc[i,1] = s1
                tdf.iloc[i,2] = a6[ind]
            elif(ind == 13):
                s1 = df2.iloc[0,0]+"("+ df2.iloc[2,0] +")" 
                tdf.iloc[i,1] = s1
                tdf.iloc[i,2] = a6[ind]

            else:
                tdf.iloc[i,1] = ""
                tdf.iloc[i,2] = s
        s=""
	tdf["Question"] = question
	
	#print tdf
	scores =[]
	scores1 =[]
	results =[]
	some = []
	some1 = []
	for book in oa:
		some.append(text_to_vector(book['FOL']))
	for book in oa:
		some1.append(text_to_vector(book['Question']))
	for i in some:
		scores.append(get_cosine(i, text_to_vector(str(tdf.iloc[0,1]))))
	max_value = max(scores)
	print max_value
	
	for i in some1:
		scores1.append(get_cosine(i, text_to_vector(str(tdf.iloc[0,3]))))
	max_value1 = max(scores1)
	
	print max_value1
	max_value2 = max(max_value,max_value1)
	print max_value2
	
	if(max_value2 == max_value):
		max_index = scores.index(max_value)
	else:
		max_index = scores1.index(max_value1)
	print max_index
	
	results.append(oa[max_index])
    millis1 = int(round(time.time() * 1000))
    print millis1 - millis
    return jsonify(data = results)

@app.route('/api/v1/resources/books/all', methods=['GET'])
def api_all():
    return jsonify(oa)


@app.route('/api/v1/resources/books', methods=['GET'])
def api_id():
    if 'questions' in request.args:
        question = str(request.args['questions'])
    else:
        return "Error: No id field provided. Please specify question."
    out = FOL_Creation(question)
    return out    

app.run()

